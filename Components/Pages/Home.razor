
@page "/"
@rendermode InteractiveServer  
@using TradeBlazorApp.Business_Classes
@inject NavigationManager NavigationManager

    <!-- Page content goes here -->

<PageTitle>Trade Home</PageTitle>

<!--I had to add rendermode InteractiveServer line manually, else no events fire-->
<!--This entire page was first generated by CHatGTP by migrating the MainNav form from VB.NET WIn Forms, then manually fixed up bellow where noted-->
<PageTitle>Trade Home</PageTitle>
<div style="text-align: center;">
    <label class="red-label">@labelText</label>
</div>
    
<div style="display: flex; justify-content: center; background-image: url('AboutBackground.jpg'); align-items: center; height: 100vh;">
    <table class="button-table">
        <tr>
            <td><button class="huge-button" @onclick="ShowQuotes">Quotes</button></td>
        </tr>
        <tr>
            <td><button class="huge-button" @onclick="ToggleLogin">Toggle Login</button></td>
        </tr>
        <tr>
            <td><button class="huge-button" @onclick="ShowHoldings">Holdings</button></td>
        </tr>
        <tr>
            <td><button class="huge-button" @onclick="ShowAccountForm">Account</button></td>
        </tr>
    </table>
</div>



@code {
    // Your code logic remains the same here
    string labelText;
    public void ShowQuotes()  //I changed from ShowForm1 to ShowQuotes.
    {
        NavigationManager.NavigateTo("/quotes");
        //I Changed the name here from form1 to quotes
    }

    private void ToggleLogin()
    {
        if (GlobalSettings.LoggedIn)
        {
            GlobalSettings.LoggedIn = false;
            // Add logic to reset login state as needed
        }
        else
        {
            NavigationManager.NavigateTo("/login");
        }
    }

    private void ShowHoldings()
    {
        if (GlobalSettings.LoggedIn)
        {
            NavigationManager.NavigateTo("/holdings");
        }
        else
        {
            
            labelText = "You Must Login First!";
        }
    }

    private void ShowAccountForm()
    {
        if (GlobalSettings.LoggedIn)
        {
            NavigationManager.NavigateTo("/accountform");
        }
        else
        {
            labelText = "You Must Login First!";
        }
    }
}